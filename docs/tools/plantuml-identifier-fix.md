# PlantUML Identifier Fix for C4 Diagrams

## Issue

When generating C4 diagrams with PlantUML, project names containing hyphens (e.g., `spring-modulith`) caused syntax errors:

```
Syntax Error? (Assumed diagram type: activity!)
```

## Root Cause

PlantUML C4 macros (`System()`, `Rel()`, `Container_Boundary()`, etc.) require valid identifiers as the first parameter. Identifiers in PlantUML cannot contain hyphens; they must follow standard programming language identifier rules (letters, digits, underscores only).

## Solution

The report generator now sanitizes all project and module names by replacing hyphens with underscores before using them as PlantUML identifiers:

```python
# In _generate_context_diagram()
project_id = self.config.project_name.replace("-", "_")
System(project_id, ...)  # Uses spring_modulith instead of spring-modulith

# In _generate_container_diagram()
project_id = self.config.project_name.replace("-", "_")
System_Boundary(f"{project_id}_boundary", ...)

# In _generate_component_diagram()
module_id = module_name.replace("-", "_")
Container_Boundary(f"{module_id}_boundary", ...)
```

## Examples

### Before (Invalid)
```plantuml
@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Context.puml

System(spring-modulith, "spring-modulith", "...")  ❌ Syntax Error
Rel(user, spring-modulith, "Uses", "HTTPS")        ❌ Syntax Error
@enduml
```

### After (Valid)
```plantuml
@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Context.puml

System(spring_modulith, "spring-modulith", "...")  ✅ Valid identifier
Rel(user, spring_modulith, "Uses", "HTTPS")        ✅ Valid identifier
@enduml
```

## Impact

All C4 diagrams generated by the report generator will now:
1. Use valid PlantUML identifiers (underscores instead of hyphens)
2. Render successfully on plantuml.com and other PlantUML processors
3. Display the original project/module names in the diagram labels (display strings can contain hyphens)

## Testing

Test with any project containing hyphens in the name:

```bash
cd /workspace/tools
python -m src.utils.report_generator analyze \
  --codebase /path/to/my-project \
  --output /tmp \
  --project-name my-project
```

All generated diagrams should render without errors:
- Context diagram uses `my_project` as identifier
- Container diagram uses `my_project_boundary` 
- Component diagrams use sanitized module names
- Display labels show original names (e.g., "my-project")

## Related Files

- `/workspace/tools/src/utils/report_generator.py` - Contains the fix
  - Line 307: Context diagram identifier sanitization
  - Line 339: Container diagram identifier sanitization  
  - Line 403: Component diagram identifier sanitization
- `/workspace/diagrams/spring-modulith_*.puml` - Example fixed diagrams
